// WARNING
//
// Do NOT edit this file while ZNC is running!
// Use webadmin or *controlpanel instead.
//
// Buf if you feel risky, you might want to read help on /znc saveconfig and /znc rehash.
// Also check http://en.znc.in/wiki/Configuration

Version = 1.0
<Listener l>
  Port = {{ znc_port }}
  IPv4 = true
  IPv6 = true
  SSL = true
</Listener>
LoadModule = partyline
LoadModule = webadmin

{% for user, args in users.iteritems() -%}
{%   if 'znc' in args -%}
<User {{ user }}>
  Admin = {{ 'true' if args['znc']['Admin'] else 'false' }}
  Nick = {{ user }}
  AltNick = {{ user }}_
  Ident = {{ args['znc']['Ident'] if 'ident' in args['znc'] else user }}
  RealName = {{ args['fullname'] }}
  Buffer = 500
  AutoClearChanBuffer = true
  ChanModes = +stn

  LoadModule = chansaver
  LoadModule = controlpanel
  LoadModule = perform

  <Network freenode>
    LoadModule = chansaver
    LoadModule = keepnick
    LoadModule = kickrejoin
    LoadModule = nickserv
    LoadModule = perform
    LoadModule = simple_away
{%     for server in freenode_servers %}
    Server = {{ server }} +7000
{%-    endfor %}
{%     for channel in interesting_channels %}
    <Chan {{ channel }}>
    </Chan>
{%-    endfor %}
  </Network>
  <Pass password>
      Hash = {{ args['znc']['password_hash'] }}
      Method = {{ args['znc']['password_method'] if 'password_method' in args['znc'] else 'SHA256' }}
      Salt = {{ args['znc']['password_salt'] }}
   </Pass>
</User>
{%   endif -%}
{% endfor -%}
